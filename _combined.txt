// src/app/page.tsx

"use client";

import Header from '../components/header';
import Link from "next/link";
import styles from "./page.module.css";

const Home: React.FC = () => {
  return (
    <>
      <Header />
      <main className={styles.main}>
        <h1>Welcome to My Firebase-powered Next.js App</h1>
        <Link href="/second-page">
          <button className={styles.button}>Go to Second Page</button>
        </Link>
      </main>
    </>
  );
};

export default Home;

// src/pages/second-page.tsx

"use client";

import Header from '../components/header';
import Link from "next/link";
import styles from "../app/page.module.css";
import { db, collection, getDocs } from "../utils/firebase";

export default function SecondPage() {
  const fetchPhotos = async () => {
    try {
      const querySnapshot = await getDocs(collection(db, "photos"));
      querySnapshot.forEach((doc) => {
        console.log(`${doc.id} => ${doc.data()}`);
      });
    } catch (error) {
      console.error("Error fetching photos:", error);
    }
  };

  return (
    <>
      <Header />
      <main className={styles.main}>
        <h1>Second Page</h1>
        <Link href="/">
          <button className={styles.button}>Go to Home</button>
        </Link>
        <button className={styles.button} onClick={fetchPhotos}>Fetch Photos</button>
      </main>
    </>
  );
}

// src/components/header.tsx

"use client";

import { useState } from 'react';
import Link from 'next/link';
import { Spin as Hamburger } from 'hamburger-react';
import styles from './NavBar.module.css';

const Header: React.FC = () => {
  const [isOpen, setOpen] = useState<boolean>(false);

  return (
    <nav className={styles.nav}>
      <div className={styles.navContent}>
        <Link href="/" className={styles.logo}>Ela Kuester</Link>
        <div className={styles.hamburger}>
          <Hamburger toggled={isOpen} toggle={setOpen} />
        </div>
      </div>
    </nav>
  );
};

export default Header;

